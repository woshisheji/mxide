171000程序集名备注10|41|2-3-4
170100摊位配置表

231000子程序名返回值类型异步公开备注10|10|4|4|41|2|3|4|5-6
230100摊位表加载
Sql = 数据配置.加载摊位
ret = 数据库执行取ID(Sql, 1, 1)
let 数据对象 = 数据Json字符串到对象(ret)
!!如果(数据对象.errcode != 200)
返回(0)
""如果结束()
 // 初始化加载，要存到全局对象管理，用于下发给客户端的
系统配置.摊位配置 = 数据对象.data
 // 
服务端调试输出('摊位配置表总数' + 系统配置.摊位配置.#长度)


231000子程序名返回值类型异步公开备注10|10|4|4|6|121|2|3|4|5-6
230100摊位表查找摊位配置表如果返回为0 则摊位
241100参数名类型备用可空初始值备注1|2|3|4|5|6
240000ID数值型摊位ID
!!数组循环(系统配置.摊位配置, i)
!!如果(系统配置.摊位配置[i].id == ID)
返回(系统配置.摊位配置[i])
""如果结束()
""数组循环结束()
返回(0)

231000子程序名返回值类型异步公开备注14|10|4|4|6|61|2|3|4|5-6
230100摊位表查找索引摊位配置表没有找到 -1
241100参数名类型备用可空初始值备注1|2|3|4|5|6
240000ID数值型摊位ID
!!数组循环(系统配置.摊位配置, i)
!!如果(系统配置.摊位配置[i].id == ID)
返回(i)
""如果结束()
""数组循环结束()
返回( - 1)

231000子程序名返回值类型异步公开备注1|2|3|4|5-6
230100摊位取属性摊位配置表
241100参数名类型备用可空初始值备注1|2|3|4|5|6
240000index数值型注意，这里并没有检测越界，因为摊位数量固定的所以没写
返回(系统配置.摊位配置[index])

231000子程序名返回值类型异步公开备注10|10|4|4|621|2|3|4|5-6
230100摊位表获取数组型获取当前摊位的数据状态，一般用户传递给客户端进入市场时候使用。
351100变量名类型备用备注6|8|4|41|2|3|4
350000list数组型
350000Json摊位对象

!!数组循环(系统配置.摊位配置, i)
let Json = {}
Json.x = 系统配置.摊位配置[i].x
Json.y = 系统配置.摊位配置[i].y
Json.name = 系统配置.摊位配置[i].name
Json.id = 系统配置.摊位配置[i].id
Json.tips = 系统配置.摊位配置[i].tips
数组加入成员末尾(list, Json)

""数组循环结束()
返回(list)



