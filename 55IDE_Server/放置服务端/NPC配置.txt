171000程序集名备注9|41|2-3-4
170100NPC表配置

231000子程序名返回值类型异步公开备注9|10|4|4|41|2|3|4|5-6
230100NPC表加载
Sql = 数据配置.加载NPC
ret = 数据库执行取ID(Sql, 1, 1)
let 数据对象 = 数据Json字符串到对象(ret)
!!如果(数据对象.errcode != 200)
返回(0)
""如果结束()
 // 初始化加载，要存到全局对象管理，用于下发给客户端的
系统配置.NPC配置 = 数据对象.data


231000子程序名返回值类型异步公开备注9|10|4|4|6|361|2|3|4|5-6
230100NPC表查找NPC配置表NPC系统数据
241100参数名类型备用可空初始值备注1|2|3|4|5|6
240000ID数值型通过流水ID--> NPCID 查找它所在的位置
!!数组循环(系统配置.NPC配置, i)
!!如果(系统配置.NPC配置[i].id == ID)
 // 查找时候返回它的索引
系统配置.NPC配置[i].index = i
 // 
返回(系统配置.NPC配置[i])
""如果结束()
""数组循环结束()
返回(0)

231000子程序名返回值类型异步公开备注8|10|4|4|6|181|2|3|4|5-6
230100NP取属性NPC属性NPC系统数据 返回0则没有
241100参数名类型备用可空初始值备注1|2|3|4|5|6
240000index数值型 npc在数组中的索引
!!如果(index ==  - 1 或 index >= 系统配置.NPC配置.#长度)
返回(0)
""如果结束()

返回(系统配置.NPC配置[index])

231000子程序名返回值类型异步公开备注1|2|3|4|5-6
230100NPC获取当前地图数组型返回当前地图数组
241100参数名类型备用可空初始值备注1|2|3|4|5|6
240000地图ID数值型
351100变量名类型备用备注8|6|4|41|2|3|4
350000地图数组数组型
!!数组循环(系统配置.NPC配置, i)
!!如果(系统配置.NPC配置[i].地图ID == 地图ID)
数组加入成员末尾(地图数组, 系统配置.NPC配置[i])
""如果结束()
""数组循环结束()
返回(地图数组)

