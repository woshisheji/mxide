171000程序集名备注10|41|2-3-4
170100附魔配置表

231000子程序名返回值类型异步公开备注10|10|4|4|41|2|3|4|5-6
230100附魔表加载
Sql = 数据配置.加载附魔
ret = 数据库执行取ID(Sql, 1, 1)
let 数据对象 = 数据Json字符串到对象(ret)
!!如果(数据对象.errcode != 200)
返回(0)
""如果结束()
 // 初始化加载，要存到全局对象管理，用于下发给客户端的
系统配置.附魔配置 = 数据对象.data
 // 
服务端调试输出('附魔表总数' + 系统配置.附魔配置.#长度)

231000子程序名返回值类型异步公开备注10|10|4|4|6|741|2|3|4|5-6
230100附魔表查找锻造配置表如果返回为0 则锻造配置不存在 当前为查配方的功能 用于锻造时候查询是否还可以锻造的
241100参数名类型备用可空初始值备注1|2|3|4|5|6
240000ID数值型装备ID
240000魔魂等级数值型
!!数组循环(系统配置.附魔配置, i)
 // 因为初始附魔都是0级开始的
!!如果(系统配置.附魔配置[i].物品ID == ID 且 系统配置.附魔配置[i].等级 == 魔魂等级 + 1)
返回(系统配置.附魔配置[i])
""如果结束()
""数组循环结束()
返回(0)

231000子程序名返回值类型异步公开备注14|10|4|4|6|71|2|3|4|5-6
230100附魔表查找属性附魔配置表附魔等级查询
241100参数名类型备用可空初始值备注1|2|3|4|5|6
240000物品ID数值型 刷怪ID
240000附魔等级数值型
!!数组循环(系统配置.附魔配置, i)
!!如果(系统配置.附魔配置[i].物品ID == 物品ID 且 系统配置.附魔配置[i].等级 == 附魔等级)
返回(系统配置.附魔配置[i])
""如果结束()
""数组循环结束()
返回(0)


